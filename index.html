<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitch Stream Grid Viewer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Twitch Stream Grid Viewer</h1>
            <div class="controls">
                <div class="add-stream-controls">
                    <button id="addStream" class="btn btn-add">Add Stream</button>
                    <button id="bulkImport" class="btn btn-bulk">Bulk Import</button>
                    <button id="addFolder" class="btn btn-folder">Add Folder</button>
                </div>
                <button id="settingsBtn" class="btn btn-settings">Settings</button>
            </div>
        </header>
        
        <div class="sidebar" id="sidebar">
            <div class="sidebar-section">
                <h3>Hidden Streams</h3>
                <div id="hiddenStreamsList" class="hidden-streams-list">
                    <p class="no-hidden">No hidden streams</p>
                </div>
            </div>
        </div>
        
        <main class="main-content">
            <div id="streamsGrid" class="streams-grid">
                <!-- Streams are dynamically inserted here -->
            </div>
        </main>
    </div>
    
    <!-- Folder Selection Popup -->
    <div id="folderPopup" class="popup-overlay" style="display: none;">
        <div class="popup-content">
            <div class="popup-header">
                <h3>Select Folder</h3>
                <button id="closeFolderPopup" class="popup-close">&times;</button>
            </div>
            <div class="popup-body">
                <select id="folderSelect" class="folder-select">
                    <option value="">Choose a folder...</option>
                </select>
                <div class="popup-buttons">
                    <button id="assignToFolder" class="btn btn-primary">Assign</button>
                    <button id="removeFromFolder" class="btn btn-secondary">Remove from Folder</button>
                    <button id="cancelFolderSelection" class="btn btn-cancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Remove Confirmation Popup -->
    <div id="removePopup" class="popup-overlay" style="display: none;">
        <div class="popup-content">
            <div class="popup-header">
                <h3>Remove Stream</h3>
                <button id="closeRemovePopup" class="popup-close">&times;</button>
            </div>
            <div class="popup-body">
                <p id="removeMessage">Are you sure you want to remove this stream?</p>
                <div class="popup-buttons">
                    <button id="confirmRemove" class="btn btn-danger">Yes, Remove</button>
                    <button id="cancelRemove" class="btn btn-cancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Add Folder Popup -->
    <div id="addFolderPopup" class="popup-overlay" style="display: none;">
        <div class="popup-content">
            <div class="popup-header">
                <h3>Add New Folder</h3>
                <button id="closeAddFolderPopup" class="popup-close">&times;</button>
            </div>
            <div class="popup-body">
                <label for="folderNameInput" class="popup-label">Folder Name:</label>
                <input type="text" id="folderNameInput" class="popup-input" placeholder="Enter folder name...">
                <div class="popup-buttons">
                    <button id="createFolder" class="btn btn-primary">Create Folder</button>
                    <button id="cancelAddFolder" class="btn btn-cancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Add Stream Popup -->
    <div id="addStreamPopup" class="popup-overlay" style="display: none;">
        <div class="popup-content">
            <div class="popup-header">
                <h3>Add Streamer</h3>
                <button id="closeAddStreamPopup" class="popup-close">&times;</button>
            </div>
            <div class="popup-body">
                <label for="addStreamNameInput" class="popup-label">Streamer name:</label>
                <input type="text" id="addStreamNameInput" class="popup-input" placeholder="Enter streamer name...">
                <div class="bulk-import-folder-row">
                    <label for="addStreamFolderSelect" class="popup-label">Assign to folder (optional):</label>
                    <div class="bulk-import-folder-controls">
                        <select id="addStreamFolderSelect" class="folder-select bulk-import-select">
                            <option value="">— No folder —</option>
                        </select>
                        <button type="button" id="addStreamNewFolderBtn" class="btn btn-small btn-secondary">Create new folder</button>
                    </div>
                    <div id="addStreamNewFolderInline" class="bulk-import-new-folder-inline" style="display: none;">
                        <input type="text" id="addStreamNewFolderName" class="popup-input bulk-import-inline-input" placeholder="Folder name...">
                        <button type="button" id="addStreamCreateFolderBtn" class="btn btn-small btn-primary">Create</button>
                    </div>
                </div>
                <div class="popup-buttons">
                    <button id="confirmAddStream" class="btn btn-primary">Add Streamer</button>
                    <button id="cancelAddStream" class="btn btn-cancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bulk Import Popup -->
    <div id="bulkImportPopup" class="popup-overlay" style="display: none;">
        <div class="popup-content popup-content-wide">
            <div class="popup-header">
                <h3>Bulk Import Streamers</h3>
                <button id="closeBulkImportPopup" class="popup-close">&times;</button>
            </div>
            <div class="popup-body">
                <label for="bulkImportInput" class="popup-label">Enter streamer names (one per line or comma-separated):</label>
                <textarea id="bulkImportInput" class="popup-textarea" placeholder="streamer1&#10;streamer2&#10;streamer3"></textarea>
                <div class="bulk-import-folder-row">
                    <label for="bulkImportFolderSelect" class="popup-label">Assign to folder (optional):</label>
                    <div class="bulk-import-folder-controls">
                        <select id="bulkImportFolderSelect" class="folder-select bulk-import-select">
                            <option value="">— No folder —</option>
                        </select>
                        <button type="button" id="bulkImportNewFolderBtn" class="btn btn-small btn-secondary">Create new folder</button>
                    </div>
                    <div id="bulkImportNewFolderInline" class="bulk-import-new-folder-inline" style="display: none;">
                        <input type="text" id="bulkImportNewFolderName" class="popup-input bulk-import-inline-input" placeholder="Folder name...">
                        <button type="button" id="bulkImportCreateFolderBtn" class="btn btn-small btn-primary">Create</button>
                    </div>
                </div>
                <p class="bulk-import-hint">Invalid names and duplicates will be skipped.</p>
                <div class="popup-buttons">
                    <button id="confirmBulkImport" class="btn btn-primary">Add Streamers</button>
                    <button id="cancelBulkImport" class="btn btn-cancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Settings Popup -->
    <div id="settingsPopup" class="popup-overlay" style="display: none;">
        <div class="popup-content">
            <div class="popup-header">
                <h3>Settings</h3>
                <button id="closeSettingsPopup" class="popup-close">&times;</button>
            </div>
            <div class="popup-body">
                <p class="popup-section-label">Data</p>
                <div class="settings-buttons">
                    <button id="saveStreams" class="btn btn-save">Save</button>
                    <button id="loadStreams" class="btn btn-load">Load</button>
                    <button id="clearStreams" class="btn btn-clear">Clear</button>
                </div>
                <input type="file" id="fileInput" accept=".json" style="display: none;">
            </div>
        </div>
    </div>
    
    <!-- Clear Confirmation Popup -->
    <div id="clearPopup" class="popup-overlay" style="display: none;">
        <div class="popup-content">
            <div class="popup-header">
                <h3>Clear All Streams</h3>
                <button id="closeClearPopup" class="popup-close">&times;</button>
            </div>
            <div class="popup-body">
                <p id="clearMessage">Are you sure you want to clear all streams? This action cannot be undone.</p>
                <div class="popup-buttons">
                    <button id="confirmClear" class="btn btn-danger">Yes, Clear All</button>
                    <button id="cancelClear" class="btn btn-cancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
